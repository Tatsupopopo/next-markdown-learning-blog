---
title: "レスポンシブ対応"
date: "2025-12-02"
tags: ["Blog", "Tailwind"]
description: "スマホで見ても違和感がないように CSS を調整しました."
isLearning: false
thumbnail: "/images/posts/tailwind_logo.jpg"
---

スマートフォンへの対応としてブログサイトをレスポンシブ化しました. ハンバーガーメニューの追加やカラムレイアウトの流動的な変更などを具体的なコードとともに紹介します.

## 今回行った対応

この時代にスマホに最適化していないはあり得ないだろう, ということで当ブログもなんちゃってレスポンシブ対応をしてみました. 色々細かく調整はしたのですが, 挙げるとキリがないので特に注力した以下の3つを紹介します.

- スマホサイズの横幅で, ヘッダーがハンバーガーメニューになる調整
- 記事一覧, 記事個別ページのサイドバーの収納
- 記事カードの日付とタグが崩れないように調整

## 調整の意図と内容

一応, 自分なりの意図があって変更を加えているので, そこも併せて説明できたらと思います. ブレークポイントは Tailwind でクラスで搭載されている `md`（768px）や `lg`（1024px）を基準にしています. 便利～.

### ハンバーガーメニューの追加

よくあるやつですね. ヘッダーの「Blog」「About」だけですが, スマホサイズにするとタイトルと競合してしまうので, 今回はハンバーガーメニューに収めるという手法を取りました.

他に使いまわすこともないので, Header のコンポーネント内に直書きしています. また, サイドバーを埋め込もうと思ったのですが, スマホで見るユーザーがそこまで周遊するか？という UX 的な部分での疑問が生じたため一旦省いています.

具体的には以下のように実装しています. button で実装して, onClick 属性にメニュー開閉のイベントを当てました.

```js
<button 
  className="md:hidden ml-auto p-2 rounded-lg border border-slate-200"
  onClick={() => setOpen(true)} // ここでクリックのイベントを検知して open state を動かす.
  aria-label="メニューを開く"
>
  <FiMenu className="w-5 h-5" />
</button>

// ~~中略

{
  open && ( // open state の値によって開閉を制御
    <div className="fixed inset-0 z-30 md:hidden flex justify-end bg-black/40">
      <div className="h-screen w-40 bg-white shadow-xl flex flex-col">
        {/* 上部バー */}
        <div className="flex items-center justify-between px-4 py-5 border-b border-slate-200">
          <span className="text-lg font-semibold">Menu</span>
          <button
            onClick={() => setOpen(false)} // ×ボタンを押したら, state を変更して閉じる処理
            className="p-1 rounded hover:bg-slate-100"
            aria-label="メニューを閉じる"
          >
            <FiX className="w-5 h-5" />
          </button>
        </div>

        {/* 中身 */}
        <nav className="flex-1 flex flex-col gap-3 px-4 py-4 bg-white overflow-y-auto">
          <Link
            href="/"
            onClick={() => setOpen(false)}　// Blog を押したら, state を変更して閉じる処理
            className={linkClass("/")}
          >
            Blog
          </Link>
          <Link
            href="/about"
            onClick={() => setOpen(false)}　// About を押したら, state を変更して閉じる処理
            className={linkClass("/about")}
          >
            About
          </Link>
        </nav>
      </div>
    </div>
  );
}
```

### サイドバーの収納

記事個別ページのプロフィール以外のサイドバーはスマホサイズになったときに, 消えて見えなくなるようにしています. プロフィールだけを残した理由としては, 

- 記事を読みあわったとの著者情報としての役割
- それ以外はスマホユーザーにとってノイジーな情報

と判断したためです.

やったこととしては至ってシンプルで, 隠したいサイドバー要素のクラスに `md:hidden` や `lg:hidden` をつけるだけ. これだけでブラウザ側が自動的に横幅によって要素を消したり出現させたりしてくれます.

### 記事一覧カードの要素配置

ただ単純に表示が崩れていたので, flexbox の仕様を変更しただけ.

## 最後に

地味な変更ばっかりですが, サイトとしては可読性が高くなって良かったかと思います.
明日は最近読んだ参考書の紹介でもしようかなと思います. それでは.